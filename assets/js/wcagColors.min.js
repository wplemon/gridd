var wcagColors=wcagColors||{};wcagColors={colors:[],getAll:function(r){var t,o,e,s,i,n=[];if(!r.hue&&r.color&&(r.hue=this.getColorProperties(r.color).h),r.minSaturation=r.minSaturation||0,r.maxSaturation=r.maxSaturation||1,r.stepSaturation=r.stepSaturation||.1,r.stepLightness=r.stepLightness||.1,r.minHueDiff=r.minHueDiff||0,r.maxHueDiff=r.maxHueDiff||360,r.stepHue=r.stepHue||15,r.minLightness=r.minLightness||0,r.maxLightness=r.maxLightness||1.001,0===r.maxHueDiff)return this.getAllColorsForHue(r.hue,r);for(t=r.minHueDiff;t<=r.maxHueDiff;t+=r.stepHue){for(o=359<r.hue+t?r.hue+t-359:r.hue+t,e=r.hue+t<0?r.hue+t+360:r.hue+t,s=this.getAllColorsForHue(o,r),i=0;i<s.length;i++)-1===n.indexOf(s[i])&&n.push(s[i]);for(s=this.getAllColorsForHue(e,r),i=0;i<s.length;i++)-1===n.indexOf(s[i])&&n.push(s[i])}return Object.assign({},this,{colors:this.removeDuplicateColors(n)})},pluck:function(r){var t,o,e=[];for("string"==typeof r.color?r.color=this.getColorProperties(r.color):r.color.r&&r.color.g&&r.color.b?r.color=this.getColorProperties("rgb("+r.color.r+","+r.color.g+","+r.color.b+")"):r.color.h&&r.color.s&&r.color.l&&(r.color=this.getColorProperties("hsl("+r.color.h+","+r.color.s+","+r.color.l+")")),o=0;o<this.colors.length;o++)t=!0,void 0!==r.minHueDiff&&r.minHueDiff>Math.abs(this.colors[o].hue-r.color.hue)&&(t=!1),void 0!==r.maxHueDiff&&r.maxHueDiff<Math.abs(this.colors[o].hue-r.color.hue)&&(t=!1),void 0!==r.minContrast&&(this.colors[o].contrast=this.getContrast(r.color.lum,this.colors[o].lum),r.minContrast>this.colors[o].contrast&&(t=!1)),t&&e.push(this.colors[o]);return Object.assign({},this,{colors:e})},getColorProperties:function(r){var t,o,e,s;return-1!==r.indexOf("hsl")?(s=r.replace("hsla","").replace(".hsl","").replace("(","").replace(")","").split(","),e={h:parseInt(s[0],10),s:parseInt(s[1],10)/100,l:parseInt(s[2],10)/100},o=this.hslToRgb(e.h,e.s,e.l),t=this.rgbToHex(o.r,o.g,o.b)):-1!==r.indexOf("rgb")?(o={r:(s=r.replace("rgba","").replace(".rgb","").replace("(","").replace(")","").split(","))[0],g:s[1],b:s[2]},e=this.rgbToHsl(o.r,o.g,o.b),t=this.rgbToHex(o.r,o.g,o.b)):(t=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r)?r:"#ffffff",o=this.hexToRgb(t),e=this.rgbToHsl(o.r,o.g,o.b)),{r:o.r,g:o.g,b:o.b,h:e.h,s:e.s,l:e.l,hex:t,lum:this.getRelativeLuminance(o)}},getAllColorsForHue:function(r,t){var o,e,s,i=[];for(o=t.minSaturation;t.maxSaturation>=o;o+=t.stepSaturation)for(e=t.minLightness;t.maxLightness>=e;e+=t.stepLightness)0<=r&&r<=359&&(s=this.hslToRgb(r,o,e),i.push({r:s.r,g:s.g,b:s.b,h:r,s:o,l:e,hex:this.rgbToHex(s.r,s.g,s.b),lum:this.getRelativeLuminance(s)}));return i},rgbToHex:function(r,t,o){return"#"+((1<<24)+(r<<16)+(t<<8)+o).toString(16).slice(1)},hexToRgb:function(r){var t;return r=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(r,t,o,e){return t+t+o+o+e+e}),(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},hslToRgb:function(r,t,o){var e,s,i,n,a,l,u;return s=r/60,i=(e=(1-Math.abs(2*o-1))*t)*(1-Math.abs(s%2-1)),void 0===r||isNaN(r)||null===r?n=a=l=0:0<=s&&s<1?(n=e,a=i,l=0):1<=s&&s<2?(n=i,a=e,l=0):2<=s&&s<3?(n=0,a=e,l=i):3<=s&&s<4?(n=0,a=i,l=e):4<=s&&s<5?(n=i,a=0,l=e):5<=s&&s<6&&(n=e,a=0,l=i),u=o-e/2,{r:Math.round(255*(n+u)),g:Math.round(255*(a+u)),b:Math.round(255*(l+u))}},rgbToHsl:function(r,t,o){var e,s,i,n,a,l;if(r/=255,t/=255,o/=255,a=((e=Math.max(r,t,o))+(s=Math.min(r,t,o)))/2,e===s)return{h:0,s:0,l:a};switch(l=e-s,n=.5<a?l/(2-e-s):l/(e+s),e){case r:i=(t-o)/l+(t<o?6:0);break;case t:i=(o-r)/l+2;break;case o:i=(r-t)/l+4}return{h:360*(i/=6),s:n,l:a}},getContrast:function(r,t){return this.roundFloat(Math.max((r+.05)/(t+.05),(t+.05)/(r+.05)))},getRelativeLuminance:function(r){return this.roundFloat(.2126*this.getLumPart(r.r)+.7152*this.getLumPart(r.g)+.0722*this.getLumPart(r.b))},getLumPart:function(r){return(r/=255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)},roundFloat:function(r){return Math.round(100*r)/100},sortBy:function(o){return Object.assign({},this,{colors:this.colors.sort(function(r,t){return t[o]-r[o]})})},removeDuplicateColors:function(r){var t,o={};for(t=0;t<r.length;t++)o[r[t].hex]=r[t];return Object.keys(o).map(function(r){return o[r]})},getHexArray:function(){var r,t=[];for(r=0;r<this.colors.length;r++)t.push(this.colors[r].hex);return t}};